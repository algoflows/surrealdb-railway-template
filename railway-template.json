{
  "$schema": "https://railway.app/railway.schema.json",
  "name": "SurrealDB Cluster",
  "description": "Production-ready SurrealDB cluster with optimized high availability. 7-service cluster (3 PD + 3 TiKV + 1 SurrealDB) with true HA - any single node can fail without downtime. ~$46-62/month.",
  "tags": [
    "database",
    "surrealdb",
    "cluster",
    "tikv",
    "nosql",
    "graph",
    "document",
    "distributed",
    "production"
  ],
  "repository": "https://github.com/algoflows/surrealdb-railway-template",
  "template": {
    "source": {
      "type": "repo",
      "repo": "https://github.com/algoflows/surrealdb-railway-template"
    },
    "services": {
      "surrealdb": {
        "name": "SurrealDB",
        "icon": "database",
        "variables": {
          "SURREAL_USER": {
            "description": "SurrealDB root username",
            "default": "root"
          },
          "SURREAL_PASS": {
            "description": "SurrealDB root password (auto-generated secure password)",
            "generator": {
              "type": "hex",
              "length": 32
            }
          },
          "SURREAL_NS": {
            "description": "Default namespace to USE on startup",
            "default": "app"
          },
          "SURREAL_DB": {
            "description": "Default database to USE on startup",
            "default": "app"
          },
          "SURREAL_LOG_LEVEL": {
            "description": "Log level for SurrealDB (trace, debug, info, warn, error)",
            "default": "info"
          },
          "PD_LOG_LEVEL": {
            "description": "Log level for PD nodes (trace, debug, info, warn, error)",
            "default": "info"
          },
          "TIKV_LOG_LEVEL": {
            "description": "Log level for TiKV nodes (trace, debug, info, warn, error)",
            "default": "info"
          },
          "PORT": {
            "description": "SurrealDB service port",
            "default": 8000
          }
        },
        "domains": [
          {
            "serviceName": "surrealdb",
            "name": "surrealdb-cluster"
          }
        ]
      }
    }
  },
  "instructions": {
    "start": "ðŸš€ Deploying optimized HA SurrealDB cluster! 7 services: 3 PD (coordination), 3 TiKV (storage), 1 SurrealDB (query). Any single node can fail without downtime. Deployment takes 3-5 minutes.",
    "end": "âœ… Production-ready SurrealDB cluster deployed! True high availability active. Database available at Railway URL with auto-generated secure credentials. Monitor cluster health via Railway dashboard."
  }
}